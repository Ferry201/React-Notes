"use strict";(self.webpackChunkreact_webpack_typescript_2023=self.webpackChunkreact_webpack_typescript_2023||[]).push([[792],{161:(e,t,n)=>{var o=n(6540),r=n(5338),i=n(205),a=n(3532),c=n(7541),l=n(5143),s=n(4353),u=n.n(s),d=n(4848);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var h=["children","editorState","onSave"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=(0,o.forwardRef)((function(e,t){var n=e.children,o=e.editorState,r=e.onSave,i=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,h);return(0,d.jsx)("button",v(v({},i),{},{onClick:function(){for(var e=o.getCurrentContent(),t=(0,l.convertToRaw)(e),n=!0,i=0;i<t.blocks.length;i++)if(""!==t.blocks[i].text.trim()){n=!1;break}if(!0!==n){var c=u()().valueOf();r(t,c)}else a.Ay.error("不能输入空笔记")},ref:t,children:n}))}));var y=n(937),g=n(1878),j=n(9027);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var C={FONT_SIZE_10:{fontSize:"10px"},FONT_SIZE_12:{fontSize:"12px"},FONT_SIZE_14:{fontSize:"14px"},FONT_SIZE_16:{fontSize:"16px"},FONT_SIZE_18:{fontSize:"18px"},FONT_SIZE_24:{fontSize:"24px"},FONT_SIZE_32:{fontSize:"32px"}},M=(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"Content"}),(0,d.jsx)("p",{children:"Content"})]}),z={RED:{backgroundColor:"#f04d4d"},GREEN:{backgroundColor:"#78e568"},BLUE:{backgroundColor:"#68c7e7"},PINK:{backgroundColor:"#f7dbdb"},PURPLE:{backgroundColor:"#dac9f8"},ORANGE:{backgroundColor:"#f4a255"},TEAL:{backgroundColor:"#91eded"},GRAY:{backgroundColor:"#edeeec"}},A=function(){return(0,d.jsx)("svg",{t:"1731789813468",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7315",width:"16",height:"16",children:(0,d.jsx)("path",{d:"M764.28847787 408.96539307c51.24041387 30.5463296 114.11019093 112.9447424 140.2667008 212.12910933 26.15978667 99.19092053 21.82239573 188.00858453 21.82239573 188.00858453s-33.86682027-54.6963456-47.59770453-73.87327146c-13.73088427-19.17146453-71.58934187-90.61116587-161.3955072-132.0157184-89.80616533-41.40346027-239.91855787-34.03066027-239.91855787-34.03066027v172.4121088L63.75560533 448.55241387l413.7091072-293.04531627v173.99808s99.38315947 7.4809344 151.3324544 18.23757653c87.49929813 18.12179627 135.49131093 61.22263893 135.49131094 61.22263894z m0 0",fill:"#2c2c2c","p-id":"7316"})})},P=function(){return(0,d.jsx)("svg",{t:"1732054047634",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"30521",width:"16",height:"16",children:(0,d.jsx)("path",{d:"M1013.763272 901.117134H10.236925c-5.630255 0-10.236827 4.606572-10.236827 10.247063v102.398976c0 5.630255 4.606572 10.236827 10.236827 10.236827H1013.763272c5.630255 0 10.236827-4.606572 10.236826-10.236827V911.35396c0-5.630255-4.606572-10.236827-10.236826-10.236826zM181.376192 798.707921h108.796993c5.374334 0 10.247063-3.460047 11.905429-8.701303l68.740291-212.485809h280.570943l68.09537 212.485809c1.658366 5.118413 6.398017 8.701303 11.905429 8.701303h114.038248c1.412682 0 2.815127-0.255921 4.104968-0.634684 6.520859-2.303286 9.980906-9.346223 7.67762-15.877318L590.849255 8.445382c-1.791445-4.995571-6.531095-8.445382-11.77235-8.445382H448.127419c-5.374334 0-10.103748 3.326969-11.772351 8.445382L169.603841 782.195919c-0.511841 1.279603-0.634683 2.692285-0.634683 4.094731-0.133079 6.787016 5.497176 12.417271 12.407034 12.417271z m327.54774-660.602894h5.251492l107.261469 337.661725H400.515938l108.407994-337.661725z m0 0",fill:"#2C2C2C","p-id":"30522"})})},I=function(){return(0,d.jsxs)("svg",{t:"1732054918948",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"46995",width:"24",height:"24",children:[(0,d.jsx)("path",{d:"M325.76 531.072l-30.208-30.208 77.76-127.04-41.28-41.344 203.392-204.352 328.704 328.704-203.456 204.288-40.896-40.832L492.8 698.048l-32.96-32.96-37.44 38.912-0.768-0.832H160l131.456-136.64 0.128 0.064 34.176-35.52z m73.536-199.68l262.912 262.848 134.72-136.32-262.976-262.912-134.784 136.32 0.128 0.128z m186.624 254.976L407.232 407.68l-51.84 84.672 145.856 145.92 84.672-51.84z m244.032-95.68l-33.024-32.704 33.024 32.64z",fill:"#222222","p-id":"46996"}),(0,d.jsx)("path",{d:"M920 832H136a8 8 0 0 0-8 8v80c0 4.416 3.584 8 8 8h784a8 8 0 0 0 8-8v-80a8 8 0 0 0-8-8z",fill:"#f4ea2a","p-id":"46997","data-spm-anchor-id":"a313x.search_index.0.i72.60a13a81mlwiRV",className:"selected"})]})},D=function(){return(0,d.jsxs)("svg",{t:"1732055345513",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"51687",width:"16",height:"16",children:[(0,d.jsx)("path",{d:"M710.776471 650.541176L572.235294 512l156.611765-156.611765c12.047059-12.047059 12.047059-24.094118-6.02353-42.164706-18.070588-18.070588-36.141176-18.070588-42.164705-6.023529L518.023529 457.788235 367.435294 307.2s-24.094118-30.117647-48.188235-6.023529c-30.117647 30.117647-18.070588 42.164706-6.02353 54.211764l156.611765 156.611765-162.635294 162.635294c-12.047059 12.047059-30.117647 24.094118-6.023529 54.211765 30.117647 30.117647 54.211765 0 60.235294-6.02353l162.635294-162.635294 144.564706 144.564706c6.023529 6.023529 30.117647 36.141176 60.235294 6.02353 18.070588-30.117647-18.070588-60.235294-18.070588-60.235295z",fill:"#D0021B","p-id":"51688"}),(0,d.jsx)("path",{d:"M512 0C228.894118 0 0 228.894118 0 512S228.894118 1024 512 1024 1024 795.105882 1024 512 795.105882 0 512 0z m0 951.717647c-246.964706 0-445.741176-198.776471-445.741176-445.741176C66.258824 259.011765 265.035294 60.235294 512 60.235294s445.741176 198.776471 445.741176 445.741177c0 252.988235-198.776471 445.741176-445.741176 445.741176z",fill:"#D0021B","p-id":"51689"})]})},E=function(){return(0,d.jsx)("svg",{t:"1732055514718",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"52742",width:"20",height:"20",children:(0,d.jsx)("path",{d:"M479.829333 640H202.837333l-85.333333 213.333333H25.6L298.666667 170.666667h85.333333l273.066667 682.666666h-91.904l-85.333334-213.333333z m-34.133333-85.333333L341.333333 293.76 236.970667 554.666667h208.725333zM896 534.826667V512h85.333333v341.333333h-85.333333v-22.826666a170.666667 170.666667 0 1 1 0-295.68zM810.666667 768a85.333333 85.333333 0 1 0 0-170.666667 85.333333 85.333333 0 0 0 0 170.666667z","p-id":"52743"})})},B=function(){return(0,d.jsxs)("svg",{t:"1732055171333",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"49797",width:"16",height:"16",children:[(0,d.jsx)("path",{d:"M563.93554 122.611368a48.609619 48.609619 0 0 0-47.970018 49.313179v30.636852a48.609619 48.609619 0 0 0 47.970018 49.313179c26.47945 0 47.970019-22.130169 47.970019-49.313179v-30.636852a48.609619 48.609619 0 0 0-47.970019-49.313179z",fill:"#030000","p-id":"49798"}),(0,d.jsx)("path",{d:"M991.700187 277.266708c0-2.046721-0.89544-3.837601-1.15128-5.820362a48.929419 48.929419 0 0 0-13.623485-40.998376l-215.737165-215.673204a49.377139 49.377139 0 0 0-36.073454-14.454966c-0.51168 0-0.89544-0.25584-1.34316-0.25584h-38.248095L685.331668 0l-0.44772 0.06396H339.116052L338.924172 0H81.612992l-0.70356 0.12792L80.269831 0a46.498938 46.498938 0 0 0-30.444972 12.024485c-0.9594 0.89544-2.302561 1.343161-3.198001 2.302561-1.08732 1.02336-1.599001 2.494441-2.494441 3.645721a45.859338 45.859338 0 0 0-11.832604 29.997252l0.12792 0.6396-0.12792 0.70356v924.734041l0.12792 0.831481-0.12792 0.57564c0 12.024485 4.924922 22.641849 12.344284 30.956652 0.70356 0.83148 1.15128 1.854841 1.854841 2.622361 1.2792 1.343161 2.942161 1.982761 4.349282 3.134041a47.074578 47.074578 0 0 0 29.421611 11.193005l0.575641-0.12792 0.57564 0.12792h861.157776l0.6396-0.12792 0.511681 0.12792a46.434978 46.434978 0 0 0 29.357651-11.256965c1.343161-1.15128 3.134041-1.790881 4.349282-3.134041 0.76752-0.76752 1.21524-1.790881 1.854841-2.622361a46.818738 46.818738 0 0 0 12.280324-30.956652l-0.12792-0.6396 0.12792-0.767521 0.12792-696.716552zM386.766271 95.940037h250.467458v193.223236H386.766271V95.940037z m352.483698 831.480325H284.813991v-250.851218l62.233105-62.233104h329.905808l62.297065 62.361024v250.723298z m156.510181 0h-60.570144v-267.097064c0-0.6396-0.3198-1.2792-0.38376-1.790881a48.865459 48.865459 0 0 0-14.391006-36.393254l-89.096314-88.904435a49.313179 49.313179 0 0 0-36.009494-14.454965c-0.57564 0-1.08732-0.3198-1.535041-0.3198H330.865209c-0.6396 0-1.21524 0.3198-1.85484 0.38376a49.249219 49.249219 0 0 0-36.457215 14.327045l-89.032354 88.968395a49.888819 49.888819 0 0 0-14.327046 36.585134c0 0.51168-0.3198 1.02336-0.3198 1.599001V927.420362H128.23985v-831.480325h162.586384v239.850094l0.12792 0.70356-0.12792 0.639601c0 11.640725 4.797002 21.938289 11.960524 30.253092 0.83148 1.08732 1.343161 2.430481 2.366521 3.389881 1.02336 1.02336 2.302561 1.471081 3.389882 2.366521a46.690818 46.690818 0 0 0 30.317051 11.960524l0.703561-0.12792 0.57564 0.12792h343.657214l0.76752-0.12792 0.703561 0.12792a46.371018 46.371018 0 0 0 30.317052-11.960524c1.15128-0.89544 2.366521-1.343161 3.389881-2.366521 1.08732-0.9594 1.471081-2.366521 2.366521-3.389881a46.626858 46.626858 0 0 0 12.024484-30.253092l-0.12792-0.639601 0.12792-0.70356V122.419488L895.76015 284.941911V927.420362z",fill:"#030000","p-id":"49799"})]})};const R=function(e){var t=e.onSave,n=e.initialContent,r=e.onCancel,i=(0,o.useRef)(null);(0,o.useEffect)((function(){i.current.focus()}),[]);var a=N((0,o.useState)(n?l.EditorState.createWithContent((0,l.convertFromRaw)(n)):l.EditorState.createEmpty()),2),c=a[0],s=a[1];(0,o.useEffect)((function(){n&&s(l.EditorState.moveFocusToEnd(l.EditorState.createWithContent((0,l.convertFromRaw)(n))))}),[n]);var u=N((0,o.useState)("left"),2),f=u[0],h=u[1];return(0,d.jsxs)("div",{style:{height:"100%",width:"100%",padding:"20px",boxSizing:"border-box"},children:[(0,d.jsxs)("div",{className:"rich-text-options",children:[(0,d.jsx)(g.A,{title:"返回并保存",children:(0,d.jsx)(b,{editorState:c,onSave:t,children:(0,d.jsx)(A,{})})}),(0,d.jsx)(g.A,{title:"加粗",children:(0,d.jsx)("button",{onClick:function(){s(l.RichUtils.toggleInlineStyle(c,"BOLD"))},children:(0,d.jsx)(y.ljE,{})})}),(0,d.jsx)(g.A,{title:"斜体",children:(0,d.jsx)("button",{onClick:function(){s(l.RichUtils.toggleInlineStyle(c,"ITALIC"))},children:(0,d.jsx)(y._Me,{})})}),(0,d.jsx)(g.A,{title:"下划线",children:(0,d.jsx)("button",{onClick:function(){s(l.RichUtils.toggleInlineStyle(c,"UNDERLINE"))},children:(0,d.jsx)(y.INR,{})})}),(0,d.jsx)(g.A,{title:"删除线",children:(0,d.jsx)("button",{onClick:function(){s(l.RichUtils.toggleInlineStyle(c,"STRIKETHROUGH"))},children:(0,d.jsx)(y.RPD,{})})}),(0,d.jsx)(g.A,{title:"文本靠左",children:(0,d.jsx)("button",{onClick:function(){h("left")},children:(0,d.jsx)(y.E7i,{})})}),(0,d.jsx)(g.A,{title:"文本居中",children:(0,d.jsx)("button",{onClick:function(){h("center")},children:(0,d.jsx)(y.qAe,{})})}),(0,d.jsx)(g.A,{title:"文本靠右",children:(0,d.jsx)("button",{onClick:function(){h("right")},children:(0,d.jsx)(y.v$9,{})})}),(0,d.jsx)(g.A,{title:"添加图片",children:(0,d.jsx)("button",{onClick:function(){var e=prompt("Enter the image URL");if(e){var t=c.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:e}).getLastCreatedEntityKey(),n=l.AtomicBlockUtils.insertAtomicBlock(c,t," ");s(n)}},children:(0,d.jsx)(y.dkL,{})})}),(0,d.jsx)(g.A,{title:"有序列表",children:(0,d.jsx)("button",{onClick:function(){s(l.RichUtils.toggleBlockType(c,"ordered-list-item"))},children:(0,d.jsx)(y.lfF,{})})}),(0,d.jsx)(g.A,{title:"无序列表",children:(0,d.jsx)("button",{onClick:function(){s(l.RichUtils.toggleBlockType(c,"unordered-list-item"))},children:(0,d.jsx)(y.v5n,{})})}),(0,d.jsx)(g.A,{title:"字号",children:(0,d.jsx)("button",{children:(0,d.jsx)(E,{})})}),(0,d.jsx)(g.A,{}),(0,d.jsxs)("select",{onChange:function(e){var t=e.target.value;s(l.RichUtils.toggleInlineStyle(c,"FONT_SIZE_".concat(t)))},defaultValue:"10",children:[(0,d.jsx)("option",{value:"10",children:"10"}),(0,d.jsx)("option",{value:"12",children:"12"}),(0,d.jsx)("option",{value:"14",children:"14"}),(0,d.jsx)("option",{value:"16",children:"16"}),(0,d.jsx)("option",{value:"18",children:"18"}),(0,d.jsx)("option",{value:"24",children:"24"}),(0,d.jsx)("option",{value:"32",children:"32"})]}),(0,d.jsx)("button",{children:(0,d.jsx)(P,{})}),(0,d.jsx)(j.A,{content:M,title:"Title",children:(0,d.jsx)("button",{children:(0,d.jsx)(I,{})})}),(0,d.jsxs)("select",{onChange:function(e){return t=e.target.value,void s(l.RichUtils.toggleInlineStyle(c,t));var t},defaultValue:"",children:[(0,d.jsx)("option",{value:"",children:"Select Color"}),(0,d.jsx)("option",{value:"RED",children:"Red"}),(0,d.jsx)("option",{value:"GREEN",children:"Green"}),(0,d.jsx)("option",{value:"BLUE",children:"Blue"}),(0,d.jsx)("option",{value:"PINK",children:"Pink"}),(0,d.jsx)("option",{value:"PURPLE",children:"Purple"}),(0,d.jsx)("option",{value:"ORANGE",children:"Orange"}),(0,d.jsx)("option",{value:"TEAL",children:"Teal"}),(0,d.jsx)("option",{value:"GRAY",children:"Gray"})]}),(0,d.jsx)(g.A,{title:"保存",children:(0,d.jsxs)(b,{editorState:c,onSave:t,children:[" ",(0,d.jsx)(B,{})]})}),(0,d.jsx)(g.A,{title:"退出且不保存修改",children:(0,d.jsx)("button",{onClick:r,children:(0,d.jsx)(D,{})})})]}),(0,d.jsx)("div",{style:{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",background:"white",height:"100%",maxHeight:"calc(100% - 30px)",padding:"10px",overflowY:"scroll",width:"100%",boxSizing:"border-box"},className:"editor-container",children:(0,d.jsx)(l.Editor,{ref:i,editorState:c,customStyleMap:k(k({},C),z),handleKeyCommand:function(e){var t=l.RichUtils.handleKeyCommand(c,e);return t?(s(t),"handled"):"not-handled"},onChange:s,placeholder:"输入笔记...",textAlignment:f})})]})};var T=n(2404),L=n.n(T),H=n(6036),_=n(7450),F=n(8922),V=n(6552);const U=n.p+"assets/7d60d5a7353463f02d3b.png";var J,W=n(696),Z=n(4939),K=(0,Z.WW)((function(){var e=(0,Z.ue)({siderCollapsed:!1,resizing:!1}),t=e.store,n=e.setState,o={toggleSiderCollapse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!t.siderCollapsed;n({siderCollapsed:e})},toggleResizing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!t.resizing;n({resizing:e})},get resizing(){return t.resizing},get siderCollapsed(){return t.siderCollapsed}};return function(){return o}}));function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,re(o.key),o)}}function $(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function X(e,t,n){return t=ee(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Q()?Reflect.construct(t,n||[],ee(e).constructor):t.apply(e,n))}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q=function(){return!!e})()}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e,t,n){return(t=re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}var ie=(0,Z.iS)(J=function(e){function t(e){var n;return q(this,t),oe(n=X(this,t,[e]),"state",{siderbarWidth:378}),oe(n,"handleSetWidth",(function(e){n.setState({siderbarWidth:e})})),oe(n,"handleImageError",(function(e){e.target.src!==U&&(e.target.src=U,a.Ay.error("图片加载失败，使用默认封面"))})),n}return te(t,e),$(t,[{key:"componentDidMount",value:function(){}},{key:"getNotebookItems",value:function(){var e=this;return[{key:"notebookItems",label:(0,d.jsxs)("div",{className:"all-notebook-header",children:[(0,d.jsx)(ce,{}),(0,d.jsxs)("div",{className:"title-add",children:[(0,d.jsx)("span",{children:"笔记本"}),(0,d.jsxs)("span",{children:["(",this.props.noteBookArray.length,")"]}),(0,d.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:"add-notebook-icon-box",children:(0,d.jsx)(ae,{onclick:function(){e.props.openModal("addNotebook")}})})]})]}),children:(0,d.jsx)("div",{className:"sub-menu-content",children:this.props.noteBookArray.map((function(t,n){var o=e.props.selectedNotebookId===t.id;return(0,d.jsxs)("div",{className:"notebook-option",children:[(0,d.jsx)("img",{src:t.cover,alt:t.title,className:"notebook-cover ".concat(o?"selected":""),onError:e.handleImageError,onClick:function(){e.props.handleToggleNoteBook(t)}}),(0,d.jsx)("span",{className:"notebook-title",children:t.title})]},n)}))})}]}},{key:"render",value:function(){var e=this,t=K(),n=t.siderCollapsed,o=t.resizing,r=t.toggleResizing,i=this.getNotebookItems(),a=[{key:"settingItem",label:(0,d.jsxs)("div",{className:"menu-item",children:[(0,d.jsx)(ue,{}),(0,d.jsx)("span",{children:"设置"})]}),children:(0,d.jsx)("p",{children:"111"})},{key:"feedbackItem",label:(0,d.jsxs)("div",{className:"menu-item",children:[(0,d.jsx)(de,{}),(0,d.jsx)("span",{children:"反馈"})]}),children:(0,d.jsxs)("div",{className:"feedback-content",children:["亲爱的用户 :",(0,d.jsx)("br",{}),"如果您在使用笔记本软件的过程中有任何建议或发现了任何问题与 bug，欢迎随时反馈给我们。您的意见对我们非常重要！",(0,d.jsx)("br",{}),"请发送邮件至：liqunzhang3@gmail.com 我们会认真查看并不断优化，为您提供更好的体验。"]})}];return(0,d.jsx)("div",{style:{height:"100%",display:"inline-block",transform:"translateX(-".concat(n?this.state.siderbarWidth+100:0,"px)"),transition:o?"unset":"all ease .3s 0s"},children:(0,d.jsx)(H.ResizableBox,{width:n?0:this.state.siderbarWidth,axis:"x",minConstraints:[200,0],maxConstraints:[480,0],resizeHandles:["e"],onResizeStart:function(e,t){r(!0)},onResizeStop:function(t,n){r(!1),e.handleSetWidth(n.size.width)},style:{overflow:"auto",position:"relative",height:"100%"},className:"resizable-box ".concat(n?"collpased":""," ").concat(o?"resizing":""),handle:(0,d.jsx)("div",{className:"resize-handle-container",children:(0,d.jsx)("div",{className:"custom-resize-handle"})}),children:(0,d.jsx)("div",{className:"sidebar-container",children:(0,d.jsxs)("div",{className:"sidebar-content-panel",children:[(0,d.jsx)(F.A,{style:{backgroundColor:"#dcdcdc"},icon:(0,d.jsx)(_.A,{})}),(0,d.jsx)("span",{children:"user name"}),(0,d.jsx)(V.A,{style:{borderColor:"#e4e4e4"}}),(0,d.jsxs)("div",{className:"menu-item",children:[(0,d.jsx)(fe,{}),(0,d.jsx)("span",{children:"搜索"})]}),(0,d.jsx)(W.A,{items:i,defaultActiveKey:["notebookItems"],ghost:!0,expandIconPosition:"end",accordion:!0}),(0,d.jsxs)("div",{className:"sidebar-menu-list",children:[(0,d.jsxs)("div",{className:"menu-item",children:[(0,d.jsx)(le,{}),(0,d.jsx)("span",{children:"收藏夹"})]}),(0,d.jsxs)("div",{className:"menu-item",children:[(0,d.jsx)(se,{}),(0,d.jsx)("span",{children:"回收站"})]}),(0,d.jsx)(W.A,{items:a,ghost:!0,expandIconPosition:"end",accordion:!0})]})]})})})})}}])}(o.Component))||J,ae=function(e){var t=e.onclick;return(0,d.jsxs)("svg",{onClick:function(e){e.stopPropagation(),t()},t:"1732428997742",className:"title-add",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"152069",width:"20",height:"20",children:[(0,d.jsx)("path",{d:"M896 544H128c-19.2 0-32-12.8-32-32s12.8-32 32-32h768c19.2 0 32 12.8 32 32s-12.8 32-32 32z",fill:"#333333","p-id":"152070"}),(0,d.jsx)("path",{d:"M512 928c-19.2 0-32-12.8-32-32V128c0-19.2 12.8-32 32-32s32 12.8 32 32v768c0 19.2-12.8 32-32 32z",fill:"#333333","p-id":"152071"})]})},ce=function(e){function t(){return q(this,t),X(this,t,arguments)}return te(t,e),$(t,[{key:"render",value:function(){return(0,d.jsxs)("svg",{t:"1734471615966",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"97531",width:"20",height:"20",children:[(0,d.jsx)("path",{d:"M923.038476 8.094476V770.438095H256.219429c-42.008381 0-76.312381 31.646476-78.628572 70.509715l-0.146286 4.193523v35.05981c0 39.375238 32.889905 72.411429 74.288762 74.630095l4.486096 0.121905h666.819047v60.952381H256.219429c-74.873905 0-136.777143-57.953524-139.605334-130.486857l-0.097524-5.217524V178.858667c0-92.330667 76.190476-167.619048 170.179048-170.666667l5.924571-0.097524h630.418286z m-60.952381 60.952381H292.62019c-61.756952 0-112.274286 47.006476-115.053714 104.838095l-0.097524 4.973715-0.024381 554.349714 1.389715-0.902095a141.653333 141.653333 0 0 1 72.045714-22.723048l5.339429-0.097524 605.866666-0.024381V69.046857z",fill:"#000","p-id":"97532"}),(0,d.jsx)("path",{d:"M306.005333 41.691429v694.954666h-60.952381V41.691429zM923.745524 834.267429v60.952381H240.298667v-60.952381z",fill:"#000","p-id":"97533"})]})}}])}(o.Component),le=function(e){function t(){return q(this,t),X(this,t,arguments)}return te(t,e),$(t,[{key:"render",value:function(){return(0,d.jsx)("svg",{t:"1734470588560",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"72142",width:"20",height:"20",children:(0,d.jsx)("path",{d:"M998.272 476.8256c23.296-22.016 31.744-56.32 21.76-87.296a84.224 84.224 0 0 0-68.608-57.6l-240.128-35.072c-6.912-1.024-12.8-5.12-15.616-11.008l-107.264-217.6c-14.336-29.184-44.8-47.616-76.032-47.36-31.744 0.512-62.464 18.176-76.544 47.36l-107.264 217.344c-3.072 6.144-8.704 10.24-15.616 11.264l-240.128 35.072c-32.256 4.352-58.368 26.624-68.608 57.6-9.984 30.976-1.536 65.28 21.504 87.296l173.824 169.728a20.48 20.48 0 0 1 5.888 18.176l-40.96 238.848c-5.632 31.744 7.68 64.256 33.792 83.2 26.624 19.2 60.928 21.504 89.344 6.4l214.784-112.896c6.144-3.072 13.056-3.072 19.2 0l214.528 112.64c12.288 6.656 25.6 10.24 39.68 10.24 17.92 0 35.84-5.888 49.92-16.384a85.4272 85.4272 0 0 0 34.048-83.2l-40.96-239.36c-1.28-6.656 1.024-13.312 5.632-18.176l173.824-169.216z m-242.944 198.656l40.96 239.616c1.28 7.424-1.792 15.104-8.192 19.712-6.4 4.608-14.848 5.12-21.76 1.28l-214.784-112.64c-4.608-2.56-9.728-4.608-15.104-6.144-1.28-2.048-25.088-3.84-25.088-3.84-13.824 0.256-27.136 3.84-38.656 9.984l-215.04 112.896c-6.912 3.584-15.36 3.072-21.76-1.536a19.8912 19.8912 0 0 1-7.936-20.224l40.96-239.104c4.608-27.392-4.352-55.552-24.32-75.264l-174.08-169.472a19.6352 19.6352 0 0 1-4.864-21.248c2.048-7.424 8.448-12.544 16.384-13.568l240.128-35.072c27.392-3.84 51.2-20.992 64.256-46.336l107.264-217.856c3.328-7.168 9.984-11.264 18.432-11.264h0.256c7.424-0.256 14.592 4.096 18.176 11.52l107.264 217.856c12.8 25.088 36.864 42.24 64 46.08l240.64 35.072c7.68 1.024 13.824 6.144 16.384 14.336a20.48 20.48 0 0 1-5.376 20.736l-173.824 169.472a83.712 83.712 0 0 0-24.32 75.008z","p-id":"72143",fill:"#000"})})}}])}(o.Component),se=function(e){function t(){return q(this,t),X(this,t,arguments)}return te(t,e),$(t,[{key:"render",value:function(){return(0,d.jsx)("svg",{t:"1734470387204",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"67981",width:"20",height:"20",children:(0,d.jsx)("path",{d:"M896.993 282.294125v524.404125c0 85.3335-69.4575 154.791-154.791 154.791H281.798c-85.3335 0-154.791-69.4575-154.791-154.791V282.294125c0-14.88375-11.907-26.79075-26.79075-26.79075h-10.91475c-14.88375 0-26.79075-11.907-26.79075-26.79075v-10.91475c0-14.88375 11.907-26.79075 26.79075-26.79075h139.411125c14.88375 0 26.79075-11.907 26.79075-26.79075v-10.91475c0-50.108625 40.68225-90.790875 90.790875-90.790875h331.907625c50.108625 0 90.790875 40.68225 90.790875 90.790875v10.91475c0 14.88375 11.907 26.79075 26.79075 26.79075h139.411125c14.88375 0 26.79075 11.907 26.79075 26.79075V229.20875c0 14.88375-11.907 26.79075-26.79075 26.79075h-10.91475c-15.379875 0-27.286875 11.907-27.286875 26.294625z m-219.28725-154.791H346.29425c-14.88375 0-26.79075 11.907-26.79075 26.79075v10.91475c0 14.88375 11.907 26.79075 26.79075 26.79075h331.907625c14.88375 0 26.79075-11.907 26.79075-26.79075v-10.91475c-0.496125-14.88375-12.403125-26.79075-27.286875-26.79075z m128.496375 128.496375H217.797875c-14.88375 0-26.79075 11.907-26.79075 26.79075v524.404125c0 50.108625 40.68225 90.790875 90.790875 90.790875h459.907875c50.108625 0 90.790875-40.68225 90.790875-90.790875V282.294125c0-14.387625-11.907-26.294625-26.294625-26.294625z m-203.41125 128.00025h10.91475c14.88375 0 26.79075 11.907 26.79075 26.79075v331.907625c0 14.88375-11.907 26.79075-26.79075 26.79075h-10.91475c-14.88375 0-26.79075-11.907-26.79075-26.79075V410.7905c0-14.88375 11.907-26.79075 26.79075-26.79075z m-192.4965 0h10.91475c14.88375 0 26.79075 11.907 26.79075 26.79075v331.907625c0 14.88375-11.907 26.79075-26.79075 26.79075h-10.91475c-14.88375 0-26.79075-11.907-26.79075-26.79075V410.7905c0-14.88375 11.907-26.79075 26.79075-26.79075z","p-id":"67982",fill:"#000"})})}}])}(o.Component),ue=function(e){function t(){return q(this,t),X(this,t,arguments)}return te(t,e),$(t,[{key:"render",value:function(){return(0,d.jsxs)("svg",{t:"1734470471720",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"69469",width:"20",height:"20",children:[(0,d.jsx)("path",{d:"M512 305.318a205.708 205.708 0 1 0 205.708 205.709A205.708 205.708 0 0 0 512 305.318z m0 346.2a140.816 140.816 0 1 1 140.816-140.816A140.816 140.816 0 0 1 512 651.842z","p-id":"69470",fill:"#000"}),(0,d.jsx)("path",{d:"M958.783 393.572L885.78 382.54a391.95 391.95 0 0 0-16.872-40.882l44.127-60.026a64.892 64.892 0 0 0 0-91.822l-77.222-77.87a64.892 64.892 0 0 0-91.822 0l-59.052 43.801a392.274 392.274 0 0 0-40.882-17.196L632.7 64.892A64.892 64.892 0 0 0 567.807 0H458.464a64.892 64.892 0 0 0-64.892 64.892l-11.032 72.68a392.598 392.598 0 0 0-40.882 16.872l-60.35-44.127a64.892 64.892 0 0 0-91.823 0l-77.546 77.546a64.892 64.892 0 0 0 0 91.823l44.127 60.025a392.274 392.274 0 0 0-16.548 39.909l-74.626 9.734A64.892 64.892 0 0 0 0 454.246v109.668a64.892 64.892 0 0 0 64.892 64.892l74.302 11.356a392.274 392.274 0 0 0 16.223 41.207l-45.1 60.999a64.892 64.892 0 0 0 0 91.822l77.546 77.546a64.892 64.892 0 0 0 91.823 0l60.674-44.775a392.598 392.598 0 0 0 39.26 16.547l11.356 75.6A64.892 64.892 0 0 0 455.868 1024h109.668a64.892 64.892 0 0 0 64.892-64.892l11.357-74.302a392.923 392.923 0 0 0 39.584-16.223l61.323 45.1a64.892 64.892 0 0 0 91.823 0l77.546-77.546a64.892 64.892 0 0 0 0-91.823l-44.127-60.025a392.274 392.274 0 0 0 16.872-39.909l74.626-11.356a64.892 64.892 0 0 0 64.892-64.892V458.464a64.892 64.892 0 0 0-65.54-64.892z m0 174.56h-9.734l-74.626 11.356-38.286 5.84-12.979 36.34a329.328 329.328 0 0 1-13.951 32.446L792.01 689.48l23.361 32.446 44.127 60.026 2.92 3.893 3.57 3.57-77.547 78.195-3.569-3.57-3.894-2.92-61.323-45.1-32.446-23.036-33.744 18.17a329.653 329.653 0 0 1-32.446 13.627l-36.989 12.978-6.489 38.287-11.356 74.301v9.734H455.868V949.05l-11.356-75.6-5.84-38.286-36.664-12.978a329.004 329.004 0 0 1-32.447-13.627l-35.366-16.872-32.446 23.036-60.674 44.776-3.894 2.92-3.569 3.57-77.546-77.547 3.569-3.569 2.596-3.894 45.424-61.323 23.037-32.446-16.872-35.042a329.328 329.328 0 0 1-13.627-32.446l-12.654-35.69-38.611-6.49-74.302-11.356h-9.734v-111.94h9.734l74.626-11.355 38.611-5.84 12.979-36.665a329.328 329.328 0 0 1 13.951-32.446l16.872-35.042-23.036-32.446-44.452-59.376-1.946-3.894-4.218-3.569 77.221-77.546 3.57 3.569 3.893 2.596 60.35 44.775 32.446 23.037 35.042-16.872a329.004 329.004 0 0 1 34.068-14.276l36.989-12.979 5.84-38.61 10.058-72.68v-9.734h110.317v9.734l11.356 73.653 4.867 38.286 36.665 12.979a329.004 329.004 0 0 1 34.392 14.276l35.367 17.196 32.446-23.36 59.376-43.479 4.218-1.946 3.57-3.57 77.546 77.547-3.57 3.569-2.92 3.893-44.45 59.377-23.038 32.446 17.521 33.744a328.68 328.68 0 0 1 13.952 34.068l12.654 36.989 38.936 5.84 73.003 11.032h9.734z","p-id":"69471",fill:"#000"})]})}}])}(o.Component),de=function(){return(0,d.jsxs)("svg",{t:"1734469824786",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"62600",width:"20",height:"20",children:[(0,d.jsx)("path",{d:"M874 80.5H150.7c-47.4 0-86 38.6-86 86v550c0 1.2 0.1 2.5 0.2 3.7l-0.2 192.2c0 14.5 8.7 27.7 22.2 33.3 4.5 1.9 9.2 2.8 13.8 2.8 9.3 0 18.5-3.6 25.4-10.5l136.2-135.4H874c47.4 0 86-38.6 86-86v-550c0-47.5-38.6-86.1-86-86.1z m14 636c0 7.7-6.3 14-14 14H249.5c-9.8-0.5-19.8 2.9-27.4 10.4l-85.4 84.8 0.1-109.2c0-1.3-0.1-2.5-0.2-3.7V166.5c0-7.7 6.3-14 14-14H874c7.7 0 14 6.3 14 14v550z","p-id":"62601",fill:"#000"}),(0,d.jsx)("path",{d:"M750.3 297h-476c-19.9 0-36 16.1-36 36s16.1 36 36 36h475.9c19.9 0 36-16.1 36-36s-16.1-36-35.9-36zM505.5 513.4H274.3c-19.9 0-36 16.1-36 36s16.1 36 36 36h231.2c19.9 0 36-16.1 36-36s-16.1-36-36-36z","p-id":"62602",fill:"#000"})]})},fe=function(e){function t(){return q(this,t),X(this,t,arguments)}return te(t,e),$(t,[{key:"render",value:function(){return(0,d.jsxs)("svg",{t:"1734471677660",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"101141",width:"20",height:"20",children:[(0,d.jsx)("path",{d:"M451.784 902.94a451.156 451.156 0 0 1-319.57-132.34 451.156 451.156 0 1 1 638.387-638.386A451.156 451.156 0 0 1 451.784 902.94z m0-827.12a375.964 375.964 0 0 0-265.43 642.898 375.964 375.964 0 1 0 532.364-532.365A375.964 375.964 0 0 0 451.784 75.82z",fill:"#000","p-id":"101142"}),(0,d.jsx)("path",{d:"M281.848 660.067a37.596 37.596 0 0 1-26.317-11.279 278.965 278.965 0 0 1 0-393.258 37.596 37.596 0 0 1 53.387 53.387 203.02 203.02 0 0 0 0 287.236 37.596 37.596 0 0 1-26.318 63.914zM986.404 1024a37.596 37.596 0 0 1-26.317-11.279l-241.37-241.369a37.596 37.596 0 1 1 53.388-53.386l241.368 241.368a37.596 37.596 0 0 1-26.317 63.914z",fill:"#000","p-id":"101143"})]})}}])}(o.Component),he=n(5786),pe=n(2702),ve=n(6994),me=n.n(ve);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Se(o.key),o)}}function ke(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e){var t=function(e){if("object"!=be(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==be(t)?t:t+""}function Ne(e,t,n){return t=Ce(t),function(e,t){if(t&&("object"==be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oe()?Reflect.construct(t,n||[],Ce(e).constructor):t.apply(e,n))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var Ie=function(e){var t=u()(),n=u()(e),o=(t.valueOf()-e)/1e3,r=o/60,i=r/60;return o<3?"刚刚":o<60?Math.round(o)+"秒前":r<60?Math.round(r)+"分钟前":i<2?Math.round(i)+"小时前":n.isSame(t,"day")?"今天 "+n.format("HH:mm:ss"):n.isSame(t.subtract(1,"day"),"day")?"昨天 "+n.format("HH:mm"):n.format("YYYY/MM/DD HH:mm")},De=function(){return(0,d.jsxs)("svg",{t:"1732626472883",className:"icon",viewBox:"0 0 1133 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"20098",width:"80",height:"80",children:[(0,d.jsx)("path",{d:"M252.427907 254.809302a40.483721 40.483721 0 0 0 80.967442 0 40.483721 40.483721 0 0 0-80.967442 0c0 22.35654 0 0 0 0zM438.176744 264.334884a40.483721 40.483721 0 0 0 80.967442 0 40.483721 40.483721 0 0 0-80.967442 0c0 22.35654 0 0 0 0zM674.268279 670.639033c-1.924167-1.728893-4.700874-1.300242-6.405953 0.647739-1.709842 1.943219-1.285953 4.753265 0.638214 6.482158 0 0 3.205358 2.810047 8.544446 7.572837 0.85254 0.857302 1.919405 1.081153 2.991033 1.081154 1.281191 0 2.557619-0.428651 3.419683-1.514568a4.553228 4.553228 0 0 0-0.428651-6.48692c-5.343851-4.753265-8.544447-7.572837-8.758772-7.7824z m25.204688 23.3472c-1.919405-1.728893-4.696112-1.728893-6.405953 0.219088-1.705079 1.943219-1.709842 4.758028 0.214326 6.482158 5.553414 5.405767 10.892502 10.592447 15.807702 15.783888 0.85254 0.862065 2.13373 1.514567 3.205358 1.514568 1.066865 0 2.348056-0.428651 3.205358-1.295479 1.709842-1.728893 1.919405-4.758028 0.214326-6.486921a1160.015777 1160.015777 0 0 0-16.241117-16.217302z m157.862698 85.615925c-7.477581 1.947981-14.526512 3.462549-21.361116 4.53894-2.557619 0.433414-4.272223 2.810047-3.843572 5.191442 0.428651 2.381395 2.348056 3.8912 4.481786 3.8912h0.642977c7.04893-1.081153 14.740837-2.810047 22.427981-4.758028a4.686586 4.686586 0 0 0 3.205358-5.620093c-0.638214-2.381395-3.205358-3.8912-5.553414-3.243461z m81.605656-34.158735a287.062921 287.062921 0 0 1-19.870363 10.159033 4.5056 4.5056 0 0 0-2.13373 6.05827c0.85254 1.728893 2.348056 2.590958 4.057898 2.590958 0.638214 0 1.281191-0.219088 1.919404-0.433414a444.720819 444.720819 0 0 0 20.084689-10.382884c2.13373-1.290716 2.98627-3.886437 1.919404-6.26307a4.248409 4.248409 0 0 0-5.982065-1.733656v0.004763z m-39.950288 19.460763a312.324763 312.324763 0 0 1-20.722903 8.001488 4.596093 4.596093 0 0 0-2.776707 5.834419c0.638214 1.943219 2.352819 3.024372 4.272224 3.024372 0.428651 0 1.071628 0 1.495516-0.214325a382.213953 382.213953 0 0 0 21.14679-8.215814c2.352819-1.085916 3.424447-3.676874 2.352819-6.053507-0.85254-2.162307-3.419684-3.462549-5.762977-2.381396h-0.004762z m78.395534-41.945898c-6.405953 4.105526-12.811907 8.001488-19.008297 11.668838-2.138493 1.300242-2.991033 4.110288-1.709842 6.272595 0.857302 1.514567 2.352819 2.381395 3.848335 2.381395 0.85254 0 1.495516-0.219088 2.348056-0.647739 6.191628-3.676874 12.81667-7.572837 19.227386-11.678363a4.59133 4.59133 0 0 0 1.495516-6.267833c-1.281191-2.162307-4.057898-3.24346-6.191628-1.728893h-0.004763z m-163.201786 63.130791h-1.066865c-7.263256 0-14.09786-0.64774-20.294251-1.947981-2.562381-0.428651-4.910437 1.085916-5.343851 3.676874-0.428651 2.590958 1.071628 4.972353 3.634009 5.405768 6.834605 1.514567 14.312186 2.162307 22.213656 2.162307h1.071628a4.53894 4.53894 0 0 0 4.486549-4.53894 4.634195 4.634195 0 0 0-4.700875-4.758028zM1111.540093 661.551628l1.495516-3.024372h1.495517c6.834605 0 12.392781-5.620093 12.392781-12.540428S1121.370493 633.451163 1114.531126 633.451163c-6.834605 0-12.383256 5.620093-12.383256 12.540428 0 3.024372 1.066865 6.048744 2.98627 8.215814l-2.138493 4.324614a41.874456 41.874456 0 0 0-7.477582-0.64774c-8.544447 0-16.236353 2.810047-22.642307 7.572837l-6.834605-6.272595c0.85254-1.728893 1.281191-3.462549 1.281191-5.405768 0-6.915572-5.553414-12.540428-12.392781-12.540427-6.834605 0-12.388019 5.620093-12.388019 12.540427s5.553414 12.540428 12.388019 12.540428c1.714605 0 3.205358-0.428651 4.486549-0.862065l6.620279 6.267833a31.039107 31.039107 0 0 0-3.843572 5.405767 35.701879 35.701879 0 0 0-5.129526-1.514567c-0.214326 0-0.428651 0-0.428651-0.219089a48.932912 48.932912 0 0 0-9.825637-1.081153c-19.222623 0-35.244651 17.946195-37.378382 28.972056-1.285953-0.433414-2.562381-0.219088-3.848335 0.647739-3.205358 2.162307-6.405953 4.324614-9.396986 6.482158-2.13373 1.300242-2.776707 4.324614-1.28119 6.486921a4.762791 4.762791 0 0 0 3.843572 2.162307c0.857302 0 1.714605-0.219088 2.562381-0.862065a230.28093 230.28093 0 0 0 9.182661-6.272595c3.848335 10.382884 16.450679 22.69946 31.620167 24.861767h0.428651c1.276428 0.219088 2.771944 0.219088 4.053135 0.219089a43.33187 43.33187 0 0 0 20.722902-5.191442c0.428651-0.214326 0.642977-0.428651 1.071628-0.64774 1.495516-0.857302 2.991033-1.943219 4.272224-3.024372 6.405953 4.53894 14.09786 7.348986 22.432744 7.348986 21.146791 0 38.445247-17.508019 38.445246-38.912 0.214326-15.350474-8.968335-28.75773-22.004093-35.025563h0.004763z m-56.820093-4.324614a3.39587 3.39587 0 0 1-3.419684-3.457786c0-1.947981 1.495516-3.462549 3.419684-3.462549 1.919405 0 3.419684 1.514567 3.419684 3.462549a3.39587 3.39587 0 0 1-3.419684 3.457786z m59.5968-14.483647c1.919405 0 3.419684 1.514567 3.419684 3.462549a3.39587 3.39587 0 0 1-3.419684 3.457786 3.39587 3.39587 0 0 1-3.419684-3.457786c0-1.947981 1.495516-3.462549 3.419684-3.462549z m-95.913079 63.130791c0-2.381395 3.843572-8.868316 9.825637-14.054995-0.428651 1.295479-0.638214 2.810047-0.852539 4.324614-1.281191 8.001488-0.638214 17.727107 2.776707 26.162009-7.263256-5.191442-11.749805-12.540428-11.749805-16.431628z m28.410046 22.266047h-1.709841c-8.758772-7.568074-10.254288-20.537153-8.758773-30.481861 1.285953-8.215814 4.272223-11.892688 5.129526-12.321339 0.638214-0.219088 1.066865-0.64774 1.495516-1.085917 1.285953-0.214326 2.562381-0.428651 3.848335-0.428651h0.209563c-2.776707 5.405767-4.481786 12.535665-4.272223 19.456 0.428651 9.944707 4.700874 18.374847 11.96413 23.780614a31.724949 31.724949 0 0 1-7.906233 1.081154z m18.374847-5.401005c-10.68294-4.53894-13.245321-13.19293-13.459647-19.889414-0.428651-8.43014 2.776707-15.350474 5.129526-17.727107 0.638214 0.214326 1.066865 0.428651 1.705079 0.428651a38.611944 38.611944 0 0 0-1.705079 11.244949c0 9.511293 3.419684 18.374847 9.18266 25.295181-0.214326 0.219088-0.428651 0.428651-0.857302 0.64774z m30.115126 3.8912c-16.236353 0-29.262586-13.407256-29.262587-29.619795 0-16.21254 13.240558-29.619795 29.262587-29.619796 16.022028 0 29.267349 13.407256 29.267348 29.619796 0 16.21254-13.030995 29.619795-29.267348 29.619795z","p-id":"20099"}),(0,d.jsx)("path",{d:"M1071.627907 692.986047a7.144186 7.144186 0 1 0 14.288372 0 7.144186 7.144186 0 1 0-14.288372 0c0 3.948353 0 0 0 0zM1104.967442 692.986047a7.144186 7.144186 0 1 0 14.288372 0 7.144186 7.144186 0 1 0-14.288372 0c0 3.948353 0 0 0 0zM837.917767 215.016186c5.372428-1.72413 27.281265 4.096 43.822438 20.041823 8.811163 8.615888 18.26054 22.623256 13.321525 40.721861a9.439851 9.439851 0 0 0 6.22973 11.421172c0.857302 0.219088 1.714605 0.428651 2.571907 0.428651 4.081712 0 7.734772-2.581433 8.811163-6.677433 5.796316-20.903888-0.64774-42.01734-18.260539-59.044316-18.26054-17.669953-47.475498-29.091126-62.297303-24.347386-4.729451 1.509805-7.525209 6.677433-6.015404 11.635498 1.92893 4.74374 7.087033 7.329935 11.811721 5.82013z m6.658382-48.699535c5.801079-1.081153 42.317395 1.076391 69.170009 23.270996 19.979907 16.593563 30.077023 40.297972 30.077023 70.251162 0 5.167628 4.081712 9.263628 9.020726 9.263628s9.239814-4.096 9.239814-9.049302c0.214326-35.987647-12.245135-64.431033-36.735405-84.687182-30.72-25.214214-72.180093-29.519777-84.425228-27.147906-4.939014 1.076391-8.163423 5.810605-7.087032 10.768669a9.373172 9.373172 0 0 0 10.740093 7.325172zM197.112856 715.585488c-62.945042-16.160149-54.781619-92.445767-54.352968-95.674939 0.64774-4.953302-3.000558-9.697042-7.949097-10.344782-4.939014-0.642977-9.668465 3.019609-10.311442 7.972912-0.214326 0.862065-2.790995 23.918735 3.867386 49.347274 9.239814 34.911256 31.36774 57.963163 64.011907 66.369489 0.862065 0.214326 1.509805 0.214326 2.367107 0.214325 4.081712 0 7.734772-2.800521 8.811163-6.89652 1.505042-4.738977-1.505042-9.906605-6.444056-10.987759z","p-id":"20100"}),(0,d.jsx)("path",{d:"M707.741172 830.268726l1.081154-10.763907 82.858269-36.16387a13.240558 13.240558 0 0 0 3.453024-2.581433l183.843721-218.48826a9.049302 9.049302 0 0 0 0.428651-11.192558c-2.376633-3.44826-6.906047-4.738977-10.787721-3.233935l-59.553935 23.680595V445.811498c0-2.795758-1.295479-5.381953-3.453023-7.101321a9.220763 9.220763 0 0 0-7.772875-1.72413l-80.481637 18.727293-14.240744-21.308726c42.293581-11.625972 73.580353-50.371274 73.580353-96.441749 0-55.105488-44.879777-99.875721-100.118623-99.875721s-100.11386 44.770233-100.11386 99.875721c0 6.67267 0.642977 13.34534 1.938455 19.803684l-80.052986 6.239256V281.352335C598.349395 126.142512 471.897302 0 316.33027 0 160.753712 0 34.311144 126.142512 34.311144 281.347572v592.614995C12.0832 886.879256 0 901.08666 0 915.937042 0 975.567181 196.788986 1024 439.748465 1024c242.964242 0 439.748465-48.437581 439.748465-108.062958-0.857302-34.873153-67.75546-65.869395-171.755758-85.673079v0.004763z m26.109619-41.764912l15.964874-18.293879 0.64774 1.285953c1.938456 2.586195 4.096 4.953302 6.253544 7.106084l-22.870921 9.906605z m171.108018-195.66973l36.035275-14.426493-159.029582 189.001823-15.745786 6.886995a45.403684 45.403684 0 0 1-8.420614-8.606362 5.015219 5.015219 0 0 0-2.586195-1.724131l149.746902-171.131832z m-14.669395-135.401377v120.974884l-256.985898 76.85239-6.691721-136.263441 263.677619-61.568596v0.004763z m-114.149805-200.837358c45.098865 0 81.781879 36.592521 81.781879 81.586604 0 44.984558-36.683014 81.581842-81.777116 81.581842-45.103628 0-81.781879-36.597284-81.781879-81.586604 0-44.989321 36.683014-81.586605 81.777116-81.586605z m-92.779162 119.255516c14.883721 36.378195 50.918995 62.211572 92.779162 62.211572 2.157544 0 4.529414 0 6.691721-0.219088l14.888484 22.385116-182.76733 42.626977a9.287442 9.287442 0 0 0-7.120372 9.468428l5.824893 119.68893-146.727293-239.158772 216.421209-17.007926h0.004763z m-308.562159 244.321637c0-27.124093-10.787721-51.661991-28.481488-69.527218L450.750512 401.250828l147.160707 239.806512-97.527666-56.400968c-3.886437-2.152781-8.630177-1.290716-11.654548 1.933693L346.969302 752.559033l-24.1664-44.989321c30.858121-16.788837 52.004912-49.723535 52.004912-87.39721z m-100.332948 81.586605c-45.098865 0-81.777116-36.597284-81.777117-81.586605 0-44.989321 36.678251-81.586605 81.777117-81.586604 45.094102 0 81.777116 36.597284 81.777116 81.586604 0 44.989321-36.683014 81.586605-81.777116 81.586605z m137.449376 254.866456c-28.052837 3.662586-60.201674 5.810605-96.236949 5.810604-172.836912 0-248.789135-54.029098-263.677618-65.869395V281.357098c0-145.088893 118.245805-263.04893 263.677618-263.048931s263.677619 117.960037 263.677619 263.048931v84.158511l-128.8192 9.906605c-0.219088 0-0.64774 0.214326-0.862065 0.214326h-0.64774l-1.938455 0.647739a4.686586 4.686586 0 0 0-1.728893 1.076391l-1.724131 1.72413-111.558846 159.296298a99.151777 99.151777 0 0 0-57.605954-18.298642c-55.243609 0-100.118623 44.770233-100.118623 99.875721 0 55.105488 44.879777 99.885247 100.113861 99.885246 11.002047 0 21.365879-1.72413 31.291534-4.953302l28.267163 52.524056-48.3328 56.400967a8.477767 8.477767 0 0 0-1.943218 7.749061c0.64774 2.800521 2.376633 5.167628 4.962828 6.458344l128.8192 63.068874-5.610568 55.538903h-0.004763z m-104.438474-129.58601l44.451125-52.095404 0.428652-0.428651 145.431814-170.060205 112.635237 65.012093-185.567851 215.044763-117.38374-57.472596h0.004763z m376.312856 62.211573l-254.828354 83.301209L436.081116 903.025116l253.537637-76.847628-5.829655 63.073638z m-228.718735-11.192559l174.989693-202.780576 241.668763-72.108651-126.447331 144.43639-0.214325-0.214325c-4.315088-5.596279-9.063591-11.621209-14.459833-17.650903-1.72413-1.938456-4.524651-2.152781-6.472632-0.428651-1.938456 1.719367-2.157544 4.515126-0.428651 6.453582a382.356837 382.356837 0 0 1 14.026418 17.222251c0.428651 0.64774 1.076391 1.081153 1.72413 1.290716l-44.665451 51.019014-239.725544 72.756391z","p-id":"20101"})]})},Ee=function(e){function t(){return xe(this,t),Ne(this,t,arguments)}return Me(t,e),ke(t,[{key:"render",value:function(){return(0,d.jsx)("svg",{className:"icon",style:{width:"18px",height:"18px",verticalAlign:"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3990",children:(0,d.jsx)("path",{d:"M781.28 851.36a58.56 58.56 0 0 1-58.56 58.56H301.28a58.72 58.72 0 0 1-58.56-58.56V230.4h538.56z m-421.6-725.92a11.84 11.84 0 0 1 12-12h281.28a11.84 11.84 0 0 1 12 12V160H359.68zM956.8 160H734.72v-34.56a81.76 81.76 0 0 0-81.76-81.76H371.68a82.08 82.08 0 0 0-81.76 81.76V160H67.2a35.36 35.36 0 0 0 0 70.56h105.12v620.8a128.96 128.96 0 0 0 128.96 128.96h421.44a128.96 128.96 0 0 0 128.96-128.96V230.4H956.8a35.2 35.2 0 0 0 35.2-35.2 34.56 34.56 0 0 0-35.2-35.2zM512 804.16a35.2 35.2 0 0 0 35.2-35.36V393.92a35.2 35.2 0 1 0-70.4 0V768.8a35.2 35.2 0 0 0 35.2 35.36m-164.32 0a35.36 35.36 0 0 0 35.36-35.36V393.92a35.36 35.36 0 1 0-70.56 0V768.8a36.32 36.32 0 0 0 35.2 35.36m328.64 0a35.36 35.36 0 0 0 35.2-35.36V393.92a35.36 35.36 0 1 0-70.56 0V768.8a35.36 35.36 0 0 0 35.36 35.36",fill:"#D81E06","p-id":"3991"})})}}])}(o.Component),Be=function(e){function t(){var e;xe(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return je(e=Ne(this,t,[].concat(o)),"state",{isFavorite:!1}),je(e,"handleFavorite",(function(){e.setState({isFavorite:!e.state.isFavorite},(function(){console.log(e.state.isFavorite)}))})),e}return Me(t,e),ke(t,[{key:"render",value:function(){return(0,d.jsxs)("svg",{onClick:this.handleFavorite,className:this.state.isFavorite?"star-active":"star",style:{width:"24px",height:"24px",verticalAlign:"middle",overflow:"hidden"},t:"1732367885599",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"103841",width:"18",height:"18","data-immersive-translate-walked":"9cfe9fc8-a3e8-4c35-aeea-d58e109df866",children:[(0,d.jsx)("path",{d:"M877.278357 375.394762l-219.339544-31.618115-98.800213-199.579501c-5.929036-11.857049-19.761066-19.760043-33.593096-19.760043s-25.689079 7.902994-33.593096 21.735024l-94.850252 201.558575-219.339544 31.614022c-13.83203 1.974981-25.689079 11.857049-29.640064 25.689079-3.953032 13.83203 0 27.66406 9.878998 37.544081L318.061986 598.685291 288.419875 819.999816c-1.974981 13.831007 3.953032 27.66406 13.831007 35.571147 5.929036 3.948939 13.83203 7.902994 21.736047 7.902994 5.928013 0 11.857049-1.979074 17.785062-3.954055L529.494443 754.790652l185.747471 102.755292c5.928013 1.973958 11.857049 3.948939 17.785062 3.948939 19.761066 0 35.5691-15.805988 35.5691-37.543058l0-7.902994-29.639041-219.339544 158.082388-158.082388c9.877975-9.882068 13.83203-23.714098 9.877975-37.546128C900.992455 387.247718 891.110387 377.369743 877.278357 375.394762L877.278357 375.394762zM367.462093 594.734306c1.974981-11.857049-1.978051-25.689079-11.857049-33.593096L203.450668 422.815795l213.411531-29.640064c11.857049-1.974981 23.710005-9.877975 29.639041-21.735024l79.043241-183.77249 86.944188 179.818435c5.928013 11.857049 15.810081 19.761066 29.642111 21.74014l207.482495 33.589003L701.409884 565.091172c-9.877975 7.904017-13.83203 21.735024-9.877975 33.593096l23.710005 205.507514-167.961386-98.801237c-9.878998-5.928013-23.711028-3.953032-35.5691 1.974981l-171.914418 94.850252L367.462093 594.734306 367.462093 594.734306z",fill:"#dbdbdb","p-id":"103842","data-immersive-translate-walked":"9cfe9fc8-a3e8-4c35-aeea-d58e109df866"}),(0,d.jsx)("path",{d:"M527.520485 160.494321 422.460708 363.108948 178.913832 412.227646 353.216647 588.236312 318.083475 827.689962 537.071002 725.359342 729.452567 817.4569 706.939831 594.376149 866.575598 424.50732 637.355009 383.575072Z",fill:"#dbdbdb","p-id":"103843","data-immersive-translate-walked":"9cfe9fc8-a3e8-4c35-aeea-d58e109df866"})]})}}])}(o.Component),Re=function(){return(0,d.jsx)("svg",{t:"1732970778716",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18866",width:"18",height:"18",children:(0,d.jsx)("path",{d:"M1024 0v102.4H0V0h1024zM512 153.6l512 496.7936h-297.984L727.1936 1024h-429.056v-373.6064H0L512 153.6z",fill:"#dbdbdb","p-id":"18867"})})};const Te=function(e){var t=e.changeNote,n=e.deleteNote,r=e.ShowMode,i=e.currentNotebook,a=JSON.parse(localStorage.getItem("note-info-array"))||[],c=Ae((0,o.useState)([]),2),s=c[0],u=c[1];(0,o.useEffect)((function(){var e,t;e=a.filter((function(e){return e.notebookID===i.id})),t=e.map((function(e){return{id:e.id,noteContent:e.noteContent}})),u(t)}),[i]);var f=function(e){n(e),u(s.filter((function(t){return t.id!==e})))},h=function(e){function n(){return xe(this,n),Ne(this,n,arguments)}return Me(n,e),ke(n,[{key:"render",value:function(){return(0,d.jsx)("div",{className:"note-ul-mode",children:s.map((function(e){var n=e.id,o=e.noteContent;return(0,d.jsxs)("div",{className:"note-ul-mode-item",onClick:function(){return t(o,n)},children:[(0,d.jsx)("span",{className:"note-ul-mode-title",children:(0,l.convertFromRaw)(o).getPlainText()}),(0,d.jsxs)("div",{className:"note-details",children:[(0,d.jsx)(v,{id:n}),(0,d.jsxs)("div",{className:"note-operation-buttons",onClick:function(e){e.stopPropagation()},children:[(0,d.jsx)(Re,{}),(0,d.jsx)(Be,{}),(0,d.jsx)("div",{onClick:function(){f(n)},children:(0,d.jsx)(Ee,{})})]})]})]},n)}))})}}])}(o.Component),p=function(e){function n(e){var t;return xe(this,n),(t=Ne(this,n,[e])).gridRef=o.createRef(),t}return Me(n,e),ke(n,[{key:"componentDidMount",value:function(){this.gridRef.current&&(this.masonry=new(me())(this.gridRef.current,{itemSelector:".note-grid-mode-item",columnWidth:".note-grid-mode-item",percentPosition:!0,gutter:16}))}},{key:"componentDidUpdate",value:function(){this.masonry&&this.masonry.layout()}},{key:"componentWillUnmount",value:function(){this.masonry&&this.masonry.destroy()}},{key:"render",value:function(){return(0,d.jsx)("div",{className:"note-grid-mode",ref:this.gridRef,children:s.map((function(e){var n=e.id,o=e.noteContent;return(0,d.jsxs)("div",{className:"note-grid-mode-item",onClick:function(){return t(o,n)},children:[(0,d.jsx)("span",{className:"note-grid-mode-title",children:(0,l.convertFromRaw)(o).getPlainText()}),(0,d.jsxs)("div",{className:"note-details",children:[(0,d.jsx)(v,{id:n}),(0,d.jsxs)("div",{className:"note-operation-buttons",onClick:function(e){e.stopPropagation()},children:[(0,d.jsx)(Re,{}),(0,d.jsx)(Be,{}),(0,d.jsx)("div",{onClick:function(){f(n)},children:(0,d.jsx)(Ee,{})})]})]})]},n)}))})}}])}(o.Component),v=function(e){var t,n=e.id,r=Ae((0,o.useState)([]),2),i=r[0],c=r[1];return(0,o.useEffect)((function(){var e;e=a.map((function(e){var t=e.id,n=e.saveTime;return{id:t,saveTime:n,relativeTime:Ie(n)}})),c(e);var t=setInterval((function(){c((function(e){return e.map((function(e){var t=Ie(e.saveTime);return e.relativeTime===t?e:ge(ge({},e),{},{relativeTime:t})}))}))}),3e3);return function(){clearInterval(t)}}),[]),(0,d.jsx)("div",{className:"note-time",children:null===(t=i.find((function(e){return e.id===n})))||void 0===t?void 0:t.relativeTime})};return(0,d.jsx)("div",{className:"show-mode-box",children:0===s.length?(0,d.jsxs)("div",{className:"empty-container",children:[(0,d.jsx)(De,{}),(0,d.jsx)("p",{children:"还没有笔记 , 点击右下角按钮创建吧!"})]}):(0,d.jsx)("div",{className:"show-noteList-box",children:r?(0,d.jsx)(h,{}):(0,d.jsx)(p,{})})})};function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}var He;function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,qe(o.key),o)}}function Ve(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ue(e,t,n){return t=We(t),function(e,t){if(t&&("object"==Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Je()?Reflect.construct(t,n||[],We(e).constructor):t.apply(e,n))}function Je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Je=function(){return!!e})()}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}function Ke(e,t){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ke(e,t)}function Ye(e,t,n){return(t=qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e){var t=function(e){if("object"!=Le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Le(t)?t:t+""}i.A.confirm;var Ge=(0,Z.iS)(He=function(e){function t(e){var n;return _e(this,t),Ye(n=Ue(this,t,[e]),"generateNoteFeaturesMenu",(function(){return[{label:(0,d.jsx)("div",{children:"重命名"}),key:"rename"},{label:(0,d.jsx)("div",{children:"换封面"}),key:"change-cover"},{label:(0,d.jsx)("div",{children:"置顶笔记本"}),key:"pinned-notebook"},{label:(0,d.jsx)("div",{children:"导出PDF"}),key:"export-pdf"},{key:"notebook-detail",label:(0,d.jsx)("div",{children:"详情"}),children:[{key:"notebook-create-time",label:(0,d.jsxs)("span",{children:["创建时间:",u()(n.props.currentNotebook.createdTime).format("YYYY-MM-DD HH:mm")]})}]},{label:(0,d.jsx)("div",{children:"分享"}),key:"share-notebook"},{label:(0,d.jsx)("div",{className:"delete-notebook-button",children:"删除笔记本"}),key:"delete-notebook"}]})),Ye(n,"handleMouseEnter",(function(){n.state.isClicked||n.setState({isHover:!0})})),Ye(n,"handleMouseLeave",(function(){n.state.isClicked||n.setState({isHover:!1})})),Ye(n,"renameNotebookTitle",(function(e){var t=e.target.value;n.props.updateNotebookInfo("title",t)})),Ye(n,"handleBlur",(function(e){n.setState({isRenaming:!1,title:e.target.value},(function(){n.renameNotebookTitle(e)}))})),Ye(n,"handleKeyDown",(function(e){"Enter"===e.key&&n.setState({isRenaming:!1,title:e.target.value},(function(){n.renameNotebookTitle(e)}))})),n.inputRenameRef=o.createRef(),n.state={isSearch:!1,isHover:!1,isModalVisible:!1,noteFeaturesMenu:n.generateNoteFeaturesMenu(),isRenaming:!1,title:n.props.currentNotebook.title,isClicked:!1},n}return Ze(t,e),Ve(t,[{key:"componentDidUpdate",value:function(e){e.currentNotebook.id!==this.props.currentNotebook.id&&this.setState({noteFeaturesMenu:this.generateNoteFeaturesMenu(),title:this.props.currentNotebook.title})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChangeNote,o=t.onDeleteNote,r=t.OnSwitchMode,i=t.showMode,a=(t.onToggleSidebar,t.currentNotebook),c=t.notesAmount,l=this.state,s=(l.isHover,l.isRenaming),u=K(),f=u.toggleSiderCollapse,h=u.siderCollapsed,p=u.resizing;return(0,d.jsxs)("div",{className:"note-container".concat(p?" resizing":""),children:[(0,d.jsxs)("div",{className:"main-section-header",children:[(0,d.jsxs)("div",{className:"note-title-bar",children:[(0,d.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:h?this.state.isHover?(0,d.jsx)(tt,{onclick:function(){f()}}):(0,d.jsx)(et,{}):(0,d.jsx)(nt,{onclick:function(){e.setState({isHover:!1,isClicked:!0},(function(){f(),setTimeout((function(){e.setState({isClicked:!1})}),0)}))}})}),s?(0,d.jsx)("input",{type:"text",defaultValue:this.state.title,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,ref:this.inputRenameRef,className:"rename-input"}):(0,d.jsxs)("h2",{children:[this.state.title,"(",c,")"]}),!s&&(0,d.jsx)(he.A,{placement:"bottomLeft",menu:{items:this.state.noteFeaturesMenu,onClick:function(t){var n=t.key;"rename"===n&&e.setState({isRenaming:!0},(function(){var t;null===(t=e.inputRenameRef.current)||void 0===t||t.focus()})),"change-cover"===n&&e.props.openModal("changeCover"),"delete-notebook"===n&&e.props.openModal("deleteConfirm")}},trigger:["click","hover"],children:(0,d.jsx)("a",{onClick:function(e){return e.preventDefault()},children:(0,d.jsx)(Qe,{})})})]}),(0,d.jsx)("div",{className:"top-tool-bar",children:(0,d.jsx)($e,{onSwitchNoteMode:r,showMode:i})})]}),(0,d.jsx)(Te,{changeNote:n,deleteNote:o,ShowMode:i,currentNotebook:a})]})}}])}(Z.WO))||He,$e=function(e){var t=e.onSwitchNoteMode,n=e.showMode,o=[{label:(0,d.jsx)("div",{children:n?"宫格模式":"列表模式"}),key:"switch-mode"},{label:(0,d.jsx)("div",{children:"主题背景"}),key:"1"},{label:(0,d.jsx)("div",{children:"11"}),key:"2"}];return(0,d.jsx)(he.A,{placement:"bottomLeft",menu:{items:o,onClick:function(e){"switch-mode"===e.key&&t()}},trigger:["click","hover"],children:(0,d.jsx)("a",{onClick:function(e){return e.preventDefault()},children:(0,d.jsx)(pe.A,{children:(0,d.jsx)(Xe,{})})})})},Xe=function(e){function t(){return _e(this,t),Ue(this,t,arguments)}return Ze(t,e),Ve(t,[{key:"render",value:function(){return(0,d.jsx)("svg",{className:"icon",style:{width:"20px",height:" 20px",verticalAlign:"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11550",children:(0,d.jsx)("path",{d:"M512 256a85.333333 85.333333 0 1 1 0-170.666667 85.333333 85.333333 0 0 1 0 170.666667z m0 341.333333a85.333333 85.333333 0 1 1 0-170.666666 85.333333 85.333333 0 0 1 0 170.666666z m0 341.333334a85.333333 85.333333 0 1 1 0-170.666667 85.333333 85.333333 0 0 1 0 170.666667z",fill:"#2E2F30","p-id":"11551"})})}}])}(o.Component),Qe=function(e){function t(){return _e(this,t),Ue(this,t,arguments)}return Ze(t,e),Ve(t,[{key:"render",value:function(){return(0,d.jsx)("div",{className:"down-outline-box",children:(0,d.jsx)("svg",{t:"1732375419187",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"120715",width:"10",height:"10",children:(0,d.jsx)("path",{d:"M579.043 792.408l418.544-418.641c25.83-25.827 33.48-64.34 19.53-98.087-13.95-33.655-46.79-55.52-83.14-55.52L96.8 220.16c-36.352 0-69.205 21.955-83.147 55.52-4.59 11.157-6.842 22.86-6.842 34.47 0 23.395 9.177 46.43 26.365 63.62l418.641 418.639c16.912 16.91 39.772 26.365 63.622 26.365 23.84 0 46.795-9.535 63.62-26.365L579.043 792.409 579.043 792.408z",fill:"gray","p-id":"120716"})})})}}])}(o.Component),et=function(e){function t(){return _e(this,t),Ue(this,t,arguments)}return Ze(t,e),Ve(t,[{key:"render",value:function(){return(0,d.jsx)("svg",{className:"default-expand-icon",style:{width:"24px",height:"24px",verticalAlign:"middle",fill:" #555",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5005",children:(0,d.jsx)("path",{d:"M896 768c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666666H128c-25.6 0-42.666667-17.066667-42.666667-42.666666s17.066667-42.666667 42.666667-42.666667h768z m0-298.666667c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667H128c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667h768z m0-298.666666c25.6 0 42.666667 17.066667 42.666667 42.666666s-17.066667 42.666667-42.666667 42.666667H128c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666666h768z",fill:"#555","p-id":"5006"})})}}])}(o.Component),tt=function(e){function t(){return _e(this,t),Ue(this,t,arguments)}return Ze(t,e),Ve(t,[{key:"render",value:function(){var e=this;return(0,d.jsx)("div",{className:"expand-icon",onClick:function(){e.props.onclick()},children:(0,d.jsx)("svg",{className:"right-expand-icon",style:{width:"20px",height:"20px",verticalAlign:"middle",fill:" #555",overflow:"hidden",cursor:"pointer"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14276",children:(0,d.jsx)("path",{d:"M458.176 512l-384.704 384.64000001a48.704 48.704 0 0 0-1.024 68.8 48.704 48.704 0 0 0 68.8-0.96000001L558.656 547.264a49.92 49.92 0 0 0 11.136-17.408c0.896-2.112 0.89600001-4.48 1.472-6.71999999 0.768-3.648 1.984-7.296 1.98399999-11.13600001s-1.152-7.424-1.98399999-11.13600001c-0.576-2.176-0.576-4.608-1.472-6.71999999a49.28 49.28 0 0 0-11.136-17.408l-417.344-417.28a48.64 48.64 0 0 0-68.8-1.024 48.64 48.64 0 0 0 1.024 68.736L458.176 512zM850.24 512l-384.70400001 384.64a48.704 48.704 0 0 0-1.02399999 68.80000001 48.64 48.64 0 0 0 68.864-0.89600001l417.28-417.216a49.92 49.92 0 0 0 11.136-17.408c0.896-2.112 0.89600001-4.48 1.40800001-6.784 0.832-3.648 2.048-7.296 2.04799999-11.136s-1.216-7.424-2.048-11.072c-0.57600001-2.24-0.576-4.608-1.408-6.784a49.28 49.28 0 0 0-11.136-17.408l-417.28-417.21600001a48.64 48.64 0 0 0-68.864-1.08799998 48.704 48.704 0 0 0 0.96 68.79999999L850.24 512z","p-id":"14277"})})})}}])}(o.Component),nt=function(e){function t(){return _e(this,t),Ue(this,t,arguments)}return Ze(t,e),Ve(t,[{key:"render",value:function(){var e=this;return(0,d.jsx)("div",{className:"expand-icon",onClick:function(){e.props.onclick()},children:(0,d.jsxs)("svg",{className:"left-expand-icon",style:{width:"20px",height:"20px",verticalAlign:"middle",fill:" #555",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"48865",children:[(0,d.jsx)("path",{d:"M565.824 512l384.704-384.64000001a48.704 48.704 0 0 0 1.024-68.8 48.704 48.704 0 0 0-68.8 0.96000001L465.344 476.736a49.92 49.92 0 0 0-11.136 17.408c-0.896 2.112-0.89600001 4.48-1.472 6.71999999-0.768 3.648-1.984 7.296-1.98399999 11.13600001s1.152 7.424 1.98399999 11.13600001c0.576 2.176 0.576 4.608 1.472 6.71999999a49.28 49.28 0 0 0 11.136 17.408l417.344 417.28a48.64 48.64 0 0 0 68.8 1.024 48.64 48.64 0 0 0-1.024-68.736L565.824 512z",fill:"#555","p-id":"48866"}),(0,d.jsx)("path",{d:"M173.76 512l384.70400001-384.64a48.704 48.704 0 0 0 1.02399999-68.80000001 48.64 48.64 0 0 0-68.864 0.89600001l-417.28 417.216a49.92 49.92 0 0 0-11.136 17.408c-0.896 2.112-0.89600001 4.48-1.40800001 6.784-0.832 3.648-2.048 7.296-2.04799999 11.136s1.216 7.424 2.048 11.072c0.57600001 2.24 0.576 4.608 1.408 6.784a49.28 49.28 0 0 0 11.136 17.408l417.28 417.21600001a48.64 48.64 0 0 0 68.864 1.08799998 48.704 48.704 0 0 0-0.96-68.79999999L173.76 512z",fill:"#555","p-id":"48867"})]})})}}])}(o.Component),ot=n(4011),rt=n(9017);const it=n.p+"assets/7920412c7d731f40af77.png",at=n.p+"assets/e4a8a2b3e2f3819a37d6.png",ct=n.p+"assets/b76398f43e3c5416d334.png",lt=n.p+"assets/80e5108a7e16d0f48553.png",st=n.p+"assets/7a7b39ef19ef3d4d23b1.png",ut=n.p+"assets/483e41e7dec20778f3fc.png",dt=n.p+"assets/01a307a9be4e3bed99c3.png",ft=n.p+"assets/630c1609d7109aecbb55.png",ht=n.p+"assets/d2fbf76d5bc4e28a9e59.png",pt=n.p+"assets/1c42b97247c41b604a38.png",vt=n.p+"assets/5303721871bca79f9b80.png",mt=n.p+"assets/8fca906331e8c516db5f.png",bt=n.p+"assets/33b9e4a47e10d3f84070.png",yt=n.p+"assets/a4c41125a1c4a773b216.png",gt=n.p+"assets/6fc6e93bf7102887c696.png";function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var wt=[{cover:U},{cover:it},{cover:at},{cover:ct},{cover:lt},{cover:st},{cover:ut},{cover:dt},{cover:ft},{cover:ht},{cover:pt},{cover:vt},{cover:mt},{cover:bt},{cover:yt},{cover:gt}],kt=function(e){var t=e.onOk,n=e.showTitleInput,r=void 0===n?void 0:n,c=e.closeModal,l=e.open,s=jt((0,o.useState)(null),2),u=s[0],f=s[1],h=jt((0,o.useState)(""),2),p=h[0],v=h[1],m=(0,o.useRef)(null),b=localStorage.getItem("notebook-array"),y=(null===b||JSON.parse(b),function(){c(),f(null),v("")});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.A,{title:r&&"新建笔记本",open:l,onOk:function(){!0===r?(u&&p&&(t({title:p,cover:u}),y()),""===p&&a.Ay.warning("请输入标题"),null===u&&a.Ay.warning("请选择封面")):(u&&(t({cover:u}),y()),null===u&&a.Ay.warning("请选择封面"))},onCancel:y,cancelText:"取消",okText:"完成",closable:!1,width:450,destroyOnClose:!0,keyboard:!0,afterOpenChange:function(){m.current&&m.current.focus()},children:(0,d.jsxs)("div",{className:"add-NB-modal-content",children:[(0,d.jsxs)("div",{className:"edit-NB-info",children:[r&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"输入标题"}),(0,d.jsx)(rt.A,{autoFocus:!0,type:"text",ref:m,className:"title-input",value:p,onChange:function(e){v(e.target.value)},placeholder:"输入标题...",allowClear:!0})]}),(0,d.jsx)("p",{children:"选择封面"}),(0,d.jsx)("div",{className:"img-cover-box",children:wt.map((function(e,t){return(0,d.jsx)("img",{src:e.cover,alt:"cover-".concat(t),width:"50",height:"64",onClick:function(){return t=e.cover,void f(t);var t}},t)}))}),(0,d.jsx)("p",{children:"或上传自定义封面"}),(0,d.jsx)("label",{htmlFor:"fileInput",className:"cover-file-upload",children:"点击上传"}),(0,d.jsx)("input",{type:"file",id:"fileInput",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){f(n.result)}}},style:{display:"none"}})]}),(0,d.jsx)("div",{className:"preview-area",children:u?(0,d.jsxs)("div",{className:"preview-img",children:[(0,d.jsx)("img",{src:u,alt:"Preview"}),(0,d.jsx)("p",{className:"preview-title",children:p})]}):(0,d.jsx)("span",{style:{color:"lightgray"},children:"没有预览图片"})})]})})})};function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Lt(o.key),o)}}function Pt(e,t,n){return t&&At(e.prototype,t),n&&At(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e,t,n){return t=Et(t),function(e,t){if(t&&("object"==St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dt()?Reflect.construct(t,n||[],Et(e).constructor):t.apply(e,n))}function Dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dt=function(){return!!e})()}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Et(e)}function Bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}function Rt(e,t){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rt(e,t)}function Tt(e,t,n){return(t=Lt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){var t=function(e){if("object"!=St(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==St(t)?t:t+""}var Ht=i.A.confirm,_t={title:"我的笔记本",cover:U,id:"default-notebook-id",createdTime:u()().valueOf()},Ft=function(e){function t(e){var n;return zt(this,t),Tt(n=It(this,t,[e]),"handleSwitchMode",(function(){n.setState((function(e){return{noteDisplayMode:!e.noteDisplayMode}}))})),Tt(n,"handleAddNote",(function(){n.setState({isAddNote:!n.state.isAddNote,currentContent:"",currentID:null})})),Tt(n,"handleSaveNote",(function(e,t){var o=n.state,r=o.currentID,i=o.noteListData,a=o.currentNotebook,c=(o.notesAmount,Ct(i)),l={noteContent:e,saveTime:t,notebook:a.title,notebookID:a.id,id:(0,ot.A)()};if(null===r){c.unshift(l),localStorage.setItem("note-info-array",JSON.stringify(c));var s=c.filter((function(e){return e.notebookID===a.id}));n.setState({isAddNote:!1,noteListData:c,currentID:null,notesAmount:s.length})}if(null!==r){var u=c.find((function(e){return e.id===r})),d=u.noteContent.blocks,f=e.blocks;if(L()(d,f))return console.log("没有变化"),void n.setState({isAddNote:!1});c=c.filter((function(e){return e.id!==r})),c.unshift(l),localStorage.setItem("note-info-array",JSON.stringify(c));var h=c.filter((function(e){return e.notebookID===a.id}));n.setState({isAddNote:!1,noteListData:c,currentID:null,notesAmount:h.length})}})),Tt(n,"handleDeleteNote",(function(e){var t=n.state,o=t.noteListData,r=(t.notesAmount,t.currentNotebook),i=o.filter((function(t){return t.id!==e})),a=i.filter((function(e){return e.notebookID===r.id}));localStorage.setItem("note-info-array",JSON.stringify(i)),n.setState({noteListData:i,currentID:null,notesAmount:a.length})})),Tt(n,"handleChangeNote",(function(e,t){console.log(e),n.setState({isAddNote:!n.state.isAddNote,currentContent:e,currentID:t})})),Tt(n,"toggleSidebar",(function(){n.setState((function(e){return{isSidebarVisible:!e.isSidebarVisible}}),(function(){console.log(n.state.isSidebarVisible)}))})),Tt(n,"addNoteBook",(function(e){n.setState((function(t){return{noteBookData:[e].concat(Ct(t.noteBookData))}}),(function(){localStorage.setItem("notebook-array",JSON.stringify(n.state.noteBookData)),n.handleToggleNoteBook(e)}))})),Tt(n,"handleToggleNoteBook",(function(e){n.setState({currentNotebook:e,selectedNotebookId:e.id})})),Tt(n,"updateNotebookInfo",(function(e,t){var o=n.state,r=o.noteBookData,i=o.currentNotebook,a=Ct(r);a=a.map((function(n){return n.id===i.id?Ot(Ot({},n),{},Tt({},e,t)):n})),n.setState((function(n){return{currentNotebook:Ot(Ot({},n.currentNotebook),{},Tt({},e,t)),noteBookData:a}}),(function(){localStorage.setItem("current-notebook",JSON.stringify(n.state.currentNotebook)),localStorage.setItem("notebook-array",JSON.stringify(n.state.noteBookData))}))})),Tt(n,"deleteNotebook",(function(){var e=n.state,t=e.noteBookData,o=e.currentNotebook,r=e.noteListData,i=Ct(t),a=Ct(r),c=null;if((i=i.filter((function(e){return e.id!==o.id}))).length>0){var l=t.findIndex((function(e){return e.id===o.id}));c=i[l<i.length?l:i.length-1]}a=a.filter((function(e){return e.notebookID!==o.id})),n.setState({noteBookData:i,currentNotebook:c,noteListData:a,selectedNotebookId:c.id},(function(){localStorage.setItem("notebook-array",JSON.stringify(n.state.noteBookData)),localStorage.setItem("current-notebook",JSON.stringify(n.state.currentNotebook)),localStorage.setItem("note-info-array",JSON.stringify(n.state.noteListData))}))})),Tt(n,"handleOpenModal",(function(e){n.setState({isModalOpen:!0}),n.setState({activeModal:e})})),Tt(n,"handleCloseModal",(function(){n.setState({isModalOpen:!1}),n.setState({activeModal:null})})),n.state={currentContent:"",currentID:null,isAddNote:!1,noteListData:[],noteBookData:[],noteDisplayMode:!0,isSidebarVisible:!1,currentNotebook:JSON.parse(localStorage.getItem("current-notebook"))||_t,selectedNotebookId:null,activeModal:null,isModalOpen:!1,notesAmount:0},n}return Bt(t,e),Pt(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.state.currentNotebook&&t.currentNotebook&&this.state.currentNotebook.id!==t.currentNotebook.id){localStorage.setItem("current-notebook",JSON.stringify(this.state.currentNotebook));var o=this.state.noteListData.filter((function(e){return e.notebookID===n.state.currentNotebook.id}));this.setState({notesAmount:o.length})}"deleteConfirm"===this.state.activeModal&&1===this.state.noteBookData.length&&a.Ay.error("至少需要一个笔记本存在 , 不能删除最后一个笔记本!")}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("note-info-array"))||[],n=t.filter((function(t){return t.notebookID===e.state.currentNotebook.id}));this.setState({noteListData:t,notesAmount:n.length});var o=localStorage.getItem("notebook-array");null===o?this.setState({noteBookData:[_t]},(function(){localStorage.setItem("notebook-array",JSON.stringify([_t]))})):this.setState({noteBookData:JSON.parse(o)}),this.setState({selectedNotebookId:this.state.currentNotebook.id})}},{key:"render",value:function(){var e=this,t=this.state.isAddNote?"add-new-button-disappear":"add-new-button";return(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)(Ut,{onClick:this.handleAddNote,className:t}),!0===this.state.isAddNote?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(R,{onCancel:this.handleAddNote,onSave:this.handleSaveNote,initialContent:this.state.currentContent})}):(0,d.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,d.jsx)(ie,{noteBookArray:this.state.noteBookData,handleToggleNoteBook:this.handleToggleNoteBook,selectedNotebookId:this.state.selectedNotebookId,addNoteBook:this.addNoteBook,openModal:this.handleOpenModal}),(0,d.jsx)(Ge,{onChangeNote:this.handleChangeNote,onDeleteNote:this.handleDeleteNote,showMode:this.state.noteDisplayMode,OnSwitchMode:this.handleSwitchMode,onToggleSidebar:this.toggleSidebar,sidebarIsVisible:this.state.isSidebarVisible,currentNotebook:this.state.currentNotebook,updateNotebookInfo:this.updateNotebookInfo,openModal:this.handleOpenModal,notesAmount:this.state.notesAmount}),"addNotebook"===this.state.activeModal&&(0,d.jsx)(kt,{showTitleInput:!0,onOk:function(t){var n={title:t.title,cover:t.cover,id:(0,ot.A)(),createdTime:u()().valueOf()};e.addNoteBook(n)},closeModal:function(){return e.handleCloseModal()},open:this.state.isModalOpen}),"changeCover"===this.state.activeModal&&(0,d.jsx)(kt,{showTitleInput:!1,onOk:function(t){var n=t.cover;e.updateNotebookInfo("cover",n)},closeModal:function(){return e.handleCloseModal()},open:this.state.isModalOpen}),"deleteConfirm"===this.state.activeModal&&1!==this.state.noteBookData.length?Vt(this.state.currentNotebook.title,this.state.isModalOpen,(function(){e.deleteNotebook(),e.handleCloseModal()}),this.handleCloseModal):null]})]})}}])}(o.Component),Vt=function(e,t,n,o){Ht({icon:(0,d.jsx)(c.A,{}),content:(0,d.jsxs)("div",{children:["确定删除",(0,d.jsx)("span",{className:"delete-confirm-title",children:e}),"及该笔记本中所有笔记吗?"]}),okText:"确定",okType:"danger",cancelText:"我再想想",open:t,onOk:function(){console.log("OK"),n()},onCancel:function(){console.log("Cancel"),o()}})},Ut=function(e){function t(){return zt(this,t),It(this,t)}return Bt(t,e),Pt(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.className;return(0,d.jsx)("div",{className:n,onClick:t,children:(0,d.jsxs)("svg",{t:"1731896096497",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29491",width:"50",height:"50",children:[(0,d.jsx)("path",{d:"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z",fill:"black","p-id":"29492"}),(0,d.jsx)("path",{d:"M215.578947 485.052632m26.947369 0l538.947368 0q26.947368 0 26.947369 26.947368l0 0q0 26.947368-26.947369 26.947368l-538.947368 0q-26.947368 0-26.947369-26.947368l0 0q0-26.947368 26.947369-26.947368Z",fill:"#FFFFFF","p-id":"29493"}),(0,d.jsx)("path",{d:"M485.052632 808.421053m0-26.947369l0-538.947368q0-26.947368 26.947368-26.947369l0 0q26.947368 0 26.947368 26.947369l0 538.947368q0 26.947368-26.947368 26.947369l0 0q-26.947368 0-26.947368-26.947369Z",fill:"#FFFFFF","p-id":"29494"})]})})}}])}(o.Component);const Jt=Ft;var Wt=function(){return(0,d.jsx)(Jt,{})};r.createRoot(document.getElementById("root")).render((0,d.jsx)(Wt,{}))}},e=>{e.O(0,[96],(()=>e(e.s=161))),e.O()}]);